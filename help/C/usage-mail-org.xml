<chapter id="usage-mail-organize">
    <title>Organizing and Managing your Email</title>
    <para>
      Even if you only get a few email messages a day, you probably
      want to sort and organize them.  When you get a hundred a day
      and you want to refer to a message you received six weeks ago,
      you <emphasis>need</emphasis> to sort and organize them.
      Fortunately, Novell Evolution has the tools
      to help you do it.
    </para>

  <sect1 id="importing-mail-and-settings">
    <title>Importing Your Old Email</title>
    <para>
      Evolution allows you to import old
      email and contacts so that you don't need to worry about losing
      your old information.
    </para>
    <sect2 id="importing-mail">
      <title>Importing Single Files</title>
      <para>
        Novell Evolution can import the
        following types of files:
        <variablelist>
          <varlistentry>
            <term>VCard (.vcf, gcrd):</term>
            <listitem>
              <para>
                The address book format used by the GNOME, KDE, and
                many other contact management applications. You
                should be able to export to VCard format from any
                address book application.
              </para>
            </listitem>
          </varlistentry>

	  <varlistentry>
	    <term>iCalendar (.ics):</term>
	    <listitem>
	      <para>
		A format for storing calendar files.  iCalendar is used by 
		PalmOS based handhelds, Novell
                Evolution, and 
		<application>Microsoft Outlook</application>.
	      </para>
	    </listitem>
	  </varlistentry>

          <varlistentry>
            <term>Microsoft Outlook Express 4 (.mbx):</term>
            <listitem>
              <para>
                Email file format used by Microsoft Outlook Express
                4. For other versions of Microsoft Outlook and Outlook Express, see
                the workaround described in the note below.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>LDAP Data Interchange Format (LDIF):</term>
            <listitem>
              <para>
                A standard data format for contact cards.
              </para>
            </listitem>
          </varlistentry>

          <varlistentry>
            <term>MBox (mbox):</term>
            <listitem>
              <para>
                The email box format used by Mozilla, Netscape,
                Novell Evolution, Eudora, and many other email clients.
              </para>
            </listitem>
          </varlistentry>
        </variablelist>
      </para>
      <para>
        To import your old email:
        <orderedlist numeration="arabic">
          <listitem>
            <para>
              Click <menuchoice><guimenu>File</guimenu><guimenuitem>Import</guimenuitem></menuchoice>.
            </para>
          </listitem>
          <listitem>
            <para>
              Click <guilabel>Forward</guilabel> after reading the welcome screen.
            </para>
          </listitem>
          <listitem>
            <para>
              Select <guilabel>Import a single file</guilabel> and click <guilabel>Forward</guilabel>.
            </para>
          </listitem>
          <listitem>
            <para>
              Indicate the file that you wish to import into Evolution
              and click <guilabel>Forward.</guilabel>
            </para>
          </listitem>
          <listitem>
            <para>
              Click <guilabel>Import</guilabel>
            </para>
          </listitem>
        </orderedlist>
      </para>
    </sect2>
    <sect2 id="importing-preferences">
      <title>Importing Multiple Files</title>
      <para>
        Evolution automates the import process for several
        applications it can recognize.
      </para>
      <para>
        To import your old information:
        <orderedlist numeration="arabic">
          <listitem>
            <para>
              Click <menuchoice><guimenu>File</guimenu><guimenuitem>Import</guimenuitem></menuchoice>.
            </para>
          </listitem>
          <listitem>
            <para>
              Click <guilabel>Forward</guilabel> after reading the welcome screen.
            </para>
          </listitem>
          <listitem>
            <para>
              Select <guilabel>Import data and settings from older
            programs</guilabel> and click <guilabel>Forward</guilabel>.
            </para>
          </listitem>
         
          <listitem>
            <para>
              Evolution will search for old mail programs it
              recognizes and, if possible, import data from them.
            </para>
          </listitem>
        </orderedlist>
      </para>

      <para>
	<note>
	  <title>Microsoft Outlook and Outlook Express Users</title>
	  <para>
	    Microsoft Outlook, and versions of Outlook Express after
	    version 4, use proprietary formats that Novell
	      Evolution cannot read or import.  For contacts,
	    you may have to email them to yourself and import them that
	    way.  For email, there is a simpler workaround:
	    <orderedlist numeration="arabic">
	      
	      <listitem>
		<para>
		  While using Windows, import the files into Mozilla Mail (or
		  another mailer, such as Netscape or Eudora, that uses the
		  standard mbox format).
		</para>
	      </listitem>
	      
	      <listitem>
		<para>
		  Copy the files to the system or partition you use for
		  Novell Evolution.  
		</para>
	      </listitem>
	      
	      <listitem>
		<para>
		  Use the Novell Evolution import
		  tool to import the files.  There's more information about
		  why this works, and how, at the Novell support website.
		</para>
	      </listitem>
	    </orderedlist>
	  </para>
	</note>     
	
	<note>
	  <title>Netscape Users</title>
	  <para>
            Mozilla and Netscape users will need to choose
	    <menuchoice><guimenu>File</guimenu><guimenuitem>Compact All
		Folders</guimenuitem></menuchoice> from within
            Netscape or Mozilla. Otherwise,
	    Novell Evolution will import and undelete
	    the messages in Trash folders.
	  </para>
	</note>     
	
      </para>
      
    </sect2>
  </sect1>
  <sect1 id="usage-mail-organize-columns">
    <title>Sorting Mail with Column Headers</title>
    <para>
      The message list normally has columns to indicate whether a
      message has been read, whether it has attachments, how important
      it is, and the sender, date, and subject. You can change their
      order and remove them by dragging and dropping them.
    </para>
      <para>
	Right-click on one of the column headers to get a list of
	options:
	<variablelist>	  
	<varlistentry>
	  <term><guimenuitem>Sort Ascending</guimenuitem>:</term>
	  <listitem><para>
	      Sorts the messages top to bottom.
	    </para></listitem>
	</varlistentry>
	  
	  <varlistentry>
	    <term><guimenuitem>Sort Descending</guimenuitem>:</term>
	    <listitem><para>
		Sorts the messages bottom to top.
	      </para></listitem>
	  </varlistentry>
	  
	  <varlistentry>
	    <term><guimenuitem>Unsort</guimenuitem>:</term>
	    <listitem><para>
            Removes sorting from the message list. <!-- displaying
            messages in the order they exist on disk. This is
            typically the order in which the messages
            were added to the mailbox file, and is therefore similar
            to, but not exactly the same as, sorting by date. -->
	      </para></listitem>
	  </varlistentry>
	<varlistentry>
	  <term><guimenuitem>Remove this
	      Column</guimenuitem>:</term> 
	  <listitem>
	    <para>
	      Remove this column from the display. You can also remove
	      columns by dragging the header off the list and
	      letting it drop.  
	    </para>
	  </listitem>
	</varlistentry>
	  
	<varlistentry>
	  <term><guimenuitem>Add a Column</guimenuitem>:</term> 
	  <listitem>
	    <para>
              When you select this item, a dialog box appears, listing
              the possible columns.  Drag the column you want into a
              space between existing column headers.  A red arrow will
              show you where the column will be placed.
            </para>
          </listitem>
        </varlistentry>	
	  
	<varlistentry>
	  <term><guimenuitem>Best Fit</guimenuitem>:</term> 
	  <listitem>
	    <para>
              Automatically adjusts the widths of the columns for the
              most efficient use of space.
            </para>
          </listitem>
        </varlistentry>	
	  
        <varlistentry>
          <term><guimenuitem>Customize Current
          View</guimenuitem>:</term> <listitem><para> Choose this
          item to pick a more complex sort order for messages, or
          to choose which columns of information about your
          messages you wish to display
        </para></listitem>
      </varlistentry>

    </variablelist>
  </para>

      <sect2 id="usage-mail-organize-columns-followup">
        <title>Column Sorting with the Follow Up Feature</title>
        <para>
          One way to make sure you don't forget about a message is
          with the <guilabel>Follow Up</guilabel> feature. To use it,
        select one or more messages, and then right-click on one and select
        <guimenuitem>Follow Up</guimenuitem>.  A dialog box will open
        and allow you to set the type of flag and the due date.
      </para>
      <para>
        The <guilabel>Flag</guilabel> itself is the action you
        want to remind yourself about. Several are provided for you, such as
        <guilabel>Call</guilabel>, <guilabel>Forward</guilabel>, and
        <guilabel>Reply</guilabel>, but you can enter your own note or
        action if you wish. You may set a deadline date for the flag
        as well, if you wish.
      </para>
      <para>
        Once you have added a flag, you can mark it as complete or
        remove it entirely by right-clicking on the message and
        selecting <guilabel>Flag Completed</guilabel> or <guilabel>Clear
        Flag</guilabel>.
      </para>

      <para>
         When you read a flagged message, its flag status will be
         displayed right at the top, before the message headers. An
        overdue message might tell you <guilabel>Overdue: Call by April 07, 2003, 5:00 PM</guilabel>
      </para>

      <para>
        Flags can help you organize your work in a number of ways. For
        example, you might add a <interface>Flag Status</interface> column to your message
        list and sort that way. Alternately, you could create a vFolder
        that displays all your flagged messages, and clear the flags
        when you're done, so the vFolder contains only messages with
        upcoming deadlines.
      </para>

      <para>
	If you prefer a simpler way to remind yourself about messages, you can
	mark them as "Important" by right-clicking on them and selecting
	<guilabel>Mark Important</guilabel>
      </para>

      </sect2>

    </sect1>

    <sect1 id="usage-mail-organize-folders">
      <title>Getting Organized with Folders</title>
      <para>
      Novell Evolution, like most other mail systems, stores mail in
        folders.  You start out with a
	few mail folders, such as <guilabel>Inbox</guilabel>,
	<guilabel>Outbox</guilabel>, and <guilabel>Drafts</guilabel>,
	but you can create as many as you like.  Create new folders by
        right clicking on the folder list and selecting 
        <guimenuitem>New Folder</guimenuitem>. Evolution will
        ask you for the name and the type of the folder, and will
        provide you with a folder tree so you can pick where it goes.
      </para>
      <para>
        When you click <guilabel>OK</guilabel>, your new folder will
	appear in the <interface>folder view</interface>.  You can
	then put messages in it by dragging and dropping them, or by
	using the <guilabel>Move</guilabel> button in the
	toolbar. If you want to move several messages at once, click
	on the ones you want to move while holding down the
	<keycap>Ctrl</keycap> key, or use <keycap>Shift</keycap> to
	select a range of messages.  If you create a filter with the
	<interface>filter assistant</interface>, you can have mail
	filed automatically.
      </para>

      <warning id="imap-subfolders">
        <title>Subfolders in IMAP</title>
        <para>
          The INBOX folder on most IMAP servers cannot contain both
          subfolders and messages. When you create additional folders
          on your IMAP mail server, branch them from the root of the
          IMAP account's folder, tree, not from INBOX. If you create
          subfolders in your INBOX folder, you will lose the ability
          to read messages that exist in your INBOX until you move the
          folders out of the way.
        </para>
      </warning>

  </sect1>    

  <sect1 id="usage-mail-organize-search">
    <title>Searching for Messages</title>
    <para>
      Most mail clients can search through your messages for you,
      but Novell Evolution does it faster than most, thanks to its
      automatic search index.
    </para>
    <para>
      To start searching, enter a word or phrase in the text area
      right below the toolbar, and choose a search type:
      <variablelist>
	<varlistentry>
	  <term><guilabel>Subject contains:</guilabel></term>
	  <listitem>
	    <para>
	      This will show you messages where the search text is
	      in the subject line.  It will not search in the
	      message body.
	    </para>
	  </listitem>
	</varlistentry>
	<varlistentry>
	  <term><guilabel>Subject does not contain:</guilabel></term>
	  <listitem>
	    <para>
              Finds messages that do not contain the search text in
              the subject.
	    </para>
	  </listitem>
	</varlistentry>
	<varlistentry>
	  <term><guilabel>Sender contains:</guilabel></term>
	  <listitem>
	    <para>
              Finds messages that do not contain the search text in
              the subject.
	    </para>
	  </listitem>
	</varlistentry>
	<varlistentry>
	  <term><guilabel>Recipients contain:</guilabel></term>
	  <listitem>
	    <para>
              Finds messages with the search text in the To: and Cc:
              headers.
	    </para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term> <guilabel>Body contains</guilabel>:</term>
	  <listitem>
	    <para>
	      This will search only in message text, not the subject
	      lines.
	    </para>
	  </listitem>
	</varlistentry>

	<varlistentry>
	  <term><guilabel>Body does not contain:</guilabel></term>
	  <listitem>
	    <para>
	      This finds every email message that does not have the
	      search text in the message body.  It will still show
	      messages that have the search text in the subject
	      line, if it is not also in the body.
	    </para>
	  </listitem>
	</varlistentry>
	<varlistentry>
	  <term><guilabel>Body or subject contains</guilabel>:</term>
	  <listitem>
	    <para>
	      This will search message subjects and the messages
	      themselves for the word or phrase you've entered in
	      the search field.
	    </para>
	  </listitem>
	</varlistentry>
	<varlistentry>
	  <term><guilabel>Message contains:</guilabel></term>
	  <listitem>
	    <para>
              Searches the message body and all headers for the
              entered text.
	    </para>
	  </listitem>
	</varlistentry>
      </variablelist>
      
      When you've entered your search phrase, press
      <keycap>Enter</keycap> or click the <guilabel>Find
      Now</guilabel> button. Evolution will show your search results
      in the message list.
    </para>
    
    <para>
      For more complex search rules, select
      <guilabel>Advanced</guilabel> from the
      <guilabel>Search</guilabel> menu. You may want to create a
      vFolder instead; see <xref
      linkend="usage-mail-organize-vfolders" /> for more detail.
    </para>

      <para>
        When you're done with the search, go back to seeing all your
        messages by clicking the <guimenuitem>Clear</guimenuitem> button, 
        or by entering a blank search.
      </para>

     <para>
        You'll see a similar approach to sorting messages when you
        create filters and vFolders in the next few sections.
     </para>

    </sect1>

    <sect1 id="usage-mail-organize-spam">
      <title>Stopping Junk Mail (Spam)</title>
      <para>
        Evolution can check for junk mail for you. When the software
        detects mail that appears to be junk mail, it will flag it and
        hide it from your view. Messages that are flagged as junk mail
        are displayed only in the <guilabel>Junk</guilabel> folder.
      </para>
      <para>
        The junk mail filter can "learn" which kinds of mail are
        legitimate and which are not if you train it. When you first
        start using junk mail blocking, check the
        <guilabel>Junk</guilabel> folder
        to be sure that legitimate mail doesn't get flagged as junk
        mail. If good mail, also known as "ham," is mis-flagged, remove
        it from the <guilabel>Junk</guilabel> folder by right-clicking
        on it and selecting <guilabel>Mark as Not Junk</guilabel>. If
        Evolution misses junk mail, right-click it and select
        <guilabel>Mark as Junk</guilabel>. When you correct it, the
        filter will be able to recognize similar messages in the future,
        and will become more accurate as time goes on.
      </para>
      <para>
        To change your junk mail filtering preferences, select <menuchoice><guimenu>Tools</guimenu> <guimenuitem>Settings</guimenuitem>
    </menuchoice> and click the <guilabel>Mail Preferences</guilabel>
    button. In the mail preferences tool, select the
    <guilabel>Junk</guilabel> tab.  Here, you have several options:
  </para>

  <variablelist>
    <varlistentry>
      <term>Check Incoming Mail</term>
      <listitem>
      <para>
        This option turns automatic junk mail filtering on or off.
      </para>
    </listitem>
  </varlistentry>

  <varlistentry>
      <term>Do Not Check Incoming Mail for IMAP Accounts</term>
      <listitem>
      <para>
        Evolution must download mail to determine whether it is junk
        mail, so junk mail filtering can slow IMAP performance as it
        downloads every message in its entirity. To turn filtering off
        for IMAP mail, but leave it on for other mail accounts, select
        this box.
      </para>
    </listitem>
  </varlistentry> 

  <varlistentry>
    <term>Local Tests Only</term>
    <listitem>
      <para>
        This option skips tests that require a network connection,
        such as checking to see if a message is in a list of known
        junk messages, or if the sender or gateway are blacklisted by
        anti-spam organizations. Selecting this option will increase
        the speed of operation, but may decrease accuracy.
      </para>
    </listitem>
  </varlistentry>
  
  <varlistentry>
    <term>Use Daemon</term>
    <listitem>
      <para>
        If you select this option, Evolution will try to use the mail
        filtering daemon <command>spamd</command> if it is available.
        Using the daemon can improve filtering speed, but the daemon
        must already be running. Starting a daemon normally requires
        root privileges, but you may be able to use it as non-root,
        depending on your OS and configuration.
    </para>
    <para>
      You can can start spamd with the command
      <command>/etc/init.d/spamd start</command>, or if you prefer,
      have it started automatically by editing your system services
      (for SUSE systems, this is the "Runlevel Editor" in
      YAST). More traditional UNIX users, of course, know how
      to put links to the initialization script in the
      <command>/etc/rc5.d/</command> or <command>/etc/rc3.d</command>
      directory.
      </para>
    </listitem>
  </varlistentry>
     
</variablelist>
</sect1>



    <sect1 id="usage-mail-organize-filters">
      <title>Create Rules to Automatically Organize Mail</title>
      <para>
	Filters work very much like the mail room in a large company.
	Their purpose is to bundle, sort, and distribute mail to the
	various folders.  In addition, you can have multiple filters
	performing multiple actions that may effect the same message
	in several ways.  For example, your filters could put copies
	of one message into multiple folders, or keep a copy and send
	one to another person as well, and it can do that quickly. Of
	course, it's also faster and more flexible than an actual
	person with a pile of envelopes.
      </para>

      
	  <tip id="easy-filter">
	      <title>Quick Filter Creation</title>
	      <para>
		There is an easy shortcut for fast filter or vFolder
                creation. Right-click on the message in the message
                list, and select one of the items under the
                <guimenuitem>Create Rule from Message</guimenuitem>
                submenu.
	      </para>
	    </tip>

    <sect2 id="usage-mail-org-filters-new">
      <title>Making New Filters</title>
      <para>
	To create a new filter:
	<orderedlist numeration="arabic">
	  <listitem>
	    <para>
              Select
	      <menuchoice>
		<guimenu>Tools</guimenu>
		<guimenuitem>Filters</guimenuitem>
	      </menuchoice>
	    </para>
	  </listitem>
	  <listitem>
	    <para>
	      Press the <guilabel>Add</guilabel> button.
	    </para>
	  </listitem>
	  <listitem>
	    <para>
	      Name your filter in the <guilabel>Rule name</guilabel> field.
          </para>
        </listitem>
        <listitem>
          <para>
            Define the criteria for the filter in the
            <guilabel>If</guilabel> section.  For each filter
            criterion, you must first select which of the following
            parts of the message you want the filter to examine:
	      
	      <itemizedlist>
		<listitem><para>
		    Sender - The sender's address.
		  </para></listitem>
		
		
		<listitem><para>
		    Recipients - The recipients of the message.
		  </para></listitem>
	  
		<listitem><para>
		    Subject - The subject line of the message.
		  </para></listitem>
		
		<listitem><para>
		    Specific Header - The filter can look at any header you
		    want, even obscure or custom ones. Enter the header name
		    in the first text box, and put your search text in the
		    second one.
        

      <note id="multiple-repeated-headers">
        <title>Repeated Headers</title>
         <para>
            If a message uses a header more than once, Evolution will
	    pay attention only to the first instance, even if the
	    message defines the header differently the second
	    time. For example, if a message declares the Resent-From:
	    header as "engineering@rupertcorp.com" and then restates
	    it as "marketing@rupertcorp.com," Evolution will filter as
	    though the second declaration had not occurred.  To filter
	    on messages that use headers multiple times, use a regular
	    expression.
         </para>
      </note>

		  </para></listitem>
		
		<listitem><para>
		    Message Body - Search in the actual text of the message.
		  </para></listitem>
		
		<listitem>
		  <para>
		    Expression - For programmers only: match a message according to an
		    expression you write in the Scheme language, used to
		    define filters in Novell Evolution.
		  </para>

<para>
</para>
		</listitem>
	

	
		<listitem><para> Date sent - Filter messages according to the date on
		    which they were sent: First, choose the conditions you
		    want a message to meet &mdash; <guilabel>before</guilabel>
		    a given time, <guilabel>after</guilabel> it, and so forth.
		    Then, choose the time. The filter will compare the
		    message's time-stamp to the system clock when the filter
		    is run, or to a specific time and date you choose from a
		    calendar.  You can even have it look for messages within a
		    range of time relative to the filter &mdash; perhaps you're
		    looking for messages less than two days old.
		  </para></listitem>
		
		<listitem><para>
		    Date Received - This works the same way as the <guilabel>Date Sent</guilabel> 
		    option, except that it compares the time you got the message 
		    with the dates you specify.
		  </para></listitem>
		
		<listitem><para>
        Score - Set the message score to any whole number greater than
        0.  To use filters with scoring, use one filter to score a
        message, and then apply other filters only to messages with
        the scores you seek.
		  </para></listitem>
		

		<listitem>
		  <para>
                    Label - Messages may have labels of
                    <guilabel>Important</guilabel>,
                    <guilabel>Work</guilabel>,
                    <guilabel>Personal</guilabel>, <guilabel>To
                    Do</guilabel>, or <guilabel>Later</guilabel>. You
                    can set these labels with other filters or by hand.
		  </para>
		</listitem>

		<listitem>
		  <para>
		    Size (kB) - Sorts based on the size of the message in kilobytes.
		  </para>
		</listitem>

		<listitem>
		  <para>
                    Status - Filters according to the status of a
                    message.  Status may be <guilabel>Replied
                  To</guilabel>, <guilabel>Draft</guilabel>,
                  <guilabel>Important</guilabel>,
                  <guilabel>Read</guilabel>, or
                  <guilabel>Junk</guilabel>.
		  </para>
		</listitem>
		
		<listitem>
		  <para>
		    Flagged - Check whether the message is flagged for follow-up or not.
		  </para>
		</listitem>
		
		<listitem>
		  <para>
		    Attachments - Create a filter based on whether or not you 
		    have an attachment in the email.
		  </para>
		</listitem>
		
		<listitem>
		  <para>
		    Mailing List - Filter based on the mailing list it came from.
		  </para>
		  <note>
		    <title>How Does Filtering on Mailing Lists Work?</title>
		    <para>
		      Filtering on mailing list actually looks for a
		      specific mailing-list header called the
		      <computeroutput>X-BeenThere</computeroutput>
		      header, used to identify mailing lists or other
		      redistributors of mail.
		    </para>
		  </note>
		</listitem>
		
		<listitem>
		  <para>
		    Regex Match  - If you know your way around a
		    <glossterm
		    linkend="regular-expression">regex</glossterm>, or
		    regular expression, put your knowledge to use
		    here. This allows you to search for complex
		    patterns of letters, so that you can find, for
		    example, all words that start with a and ends with
		    m, and are between six and fifteen letters long,
		    or all messages that declare a particular header
		    twice. For information about how to use regular
		    expressions, check the manual page for the
		    <command>grep</command> command.
		  </para>
		</listitem>
		
		<listitem>
		  <para>
                    Source Account - Filter messages according the
                    server you got them from.  This is most useful if
                    you use multiple POP mail accounts.
                  </para>
		</listitem>

		
		<listitem>
		  <para>
                    Pipe to Program - Evolution can use
                    an external command to process a message, then
                    process it based on the return value. Commands
                    used in this way must return an integer. This is
                    most commonly used to add an external junk mail
                    filter.
                  </para>
		</listitem>

		<listitem>
		  <para>
                    Junk Test - Filter based on the results of the
                    junk mail test.
                  </para>
		</listitem>
	      </itemizedlist>
	    </para>
	  </listitem>
	  <listitem>
	    <para>
	      Select the criterion for the condition.   If you want multiple
	      criteria for this filter, press <guilabel>Add
		criterion</guilabel> and repeat the previous step.
	    </para>
	  </listitem>
	  <listitem>
	    <para>
              Select the actions for the filter in the
              <guilabel>Then</guilabel>
	      section.  You can select any of the following options.
	      <itemizedlist>
		<listitem><para>
		    Move to Folder - If you select this item, Novell Evolution
		    will put the messages into a folder you specify.  Click the 
		    <guilabel>&lt;click here to select a folder&gt;</guilabel> button
		    to select a folder. 
		  </para></listitem>

		<listitem><para>
		    Copy to Folder - If you select this item, Novell Evolution
		    will put the messages into a folder you specify.  Click the 
		    <guilabel>&lt;click here to select a folder&gt;</guilabel> button
		    to select a folder. 
		  </para></listitem>
		
		<listitem><para>
		    Delete - Marks the message for deletion.  You can still get the message
		    back, at least until you <guimenuitem>Expunge</guimenuitem> your
		    mail yourself.
		  </para></listitem>
		
		<listitem><para>
		    Stop Processing - Select this if you want to tell all other filters to ignore 
		    this message, because whatever you've done with it so far
		    is plenty.
		  </para></listitem>
		
		<listitem><para>
		    Assign Color - Select this item, and Novell Evolution
		    will mark the message with whatever color you please.
		  </para></listitem>
		
		<listitem><para> 
		    Assign Score - Assign the message a numeric score. 
		  </para></listitem>

		<listitem><para> 
		    Adjust Score - Change the numeric score by the amount you set here.
		  </para></listitem>


		<listitem><para> 
		    Set Status - Set the status of the message.  Status may be <guilabel>Replied
                  To</guilabel>, <guilabel>Draft</guilabel>,
                  <guilabel>Important</guilabel>,
                  <guilabel>Read</guilabel>, or
                  <guilabel>Junk</guilabel>.
		  </para></listitem>

		<listitem><para> 
		    Unset Status - If the message has a status value,
                set it to the opposite. If that status value is not
                set, do nothing.
		  </para></listitem>

		<listitem><para> 
                Beep - Make the system beep.
		  </para></listitem>

		<listitem><para> 
                Play Sound - Select a sound file, and Evolution will play it.
		  </para></listitem>

		<listitem><para> 
                Pipe to Program - Send the message to a program of your choice. No return value
                is expected. This feature can be used to create automatic web postings
                from email messages or to perform additional message
                post-processing not supported by Evolution.
              </para></listitem>

	      </itemizedlist>
	    </para>
	  </listitem>
	  <listitem>
	    <para>
	      Set Status - If you want to add multiple actions for this filter, press
	      <guilabel>Add action</guilabel> and repeat the previous step.
	    </para>
	  </listitem>
	  <listitem>
	    <para>
	      Click <guilabel>OK</guilabel> in the filter editor dialog.
	    </para>
	  </listitem>

	  <listitem>
	    <para>
              Click <guilabel>OK</guilabel> in the filter manager
            window.
	    </para>
	  </listitem>

	</orderedlist>
      </para>
      
      <note id="when-filters-go-wrong">
        <title>When Are Filters Applied?</title>
         <para>
           For POP mail, filters are applied as messages are
           downloaded. For IMAP mail, filters are applied to new
           messages when you enter the INBOX folder. On Exchange
           servers, filters are not applied until you enter
           your INBOX folder and select
           <menuchoice><guimenu>Actions</guimenu><guimenuitem>Apply
           Filters</guimenuitem></menuchoice> or press
           <keycombo><keycap>Ctrl</keycap><keycap>Y</keycap></keycombo>.
           To force your filters to act on all messages in the folder,
           select the entire folder
           (<keycombo><keycap>Ctrl</keycap><keycap>A</keycap></keycombo>)
           and then apply the filters
           (<keycombo><keycap>Ctrl</keycap><keycap>Y</keycap></keycombo>.)
         </para>
      </note>


   <figure id="usage-mail-filter-fig-createrule">
	<title>Creating a Mail Filter</title>
	<screenshot>
	  <screeninfo>Creating a Mail Filter</screeninfo>
	    <mediaobject>
	      <imageobject>
		<imagedata fileref="figures/filter-new-fig" format="PNG"
			   srccredit="Aaron Weber"/>
	      </imageobject>
	    </mediaobject>
	  </screenshot>
	</figure>

         <para>
            If you have several filters that match a single message,
            they will all be applied to the message, in order, unless
            one of the filters has the action <guilabel>Stop
            Processing</guilabel>. If you use that action in a
            filter, the messages that it affects will not be touched
            by other filters.
         </para>
         <para>
           When you first open the filters dialog, you are shown the
           list of filters sorted in the order in which they will be
           applied. You can move them up and down in the priority list
           by clicking the <guilabel>Up</guilabel> and
           <guilabel>Down</guilabel> buttons.
         </para>
   </sect2>
   
   <sect2 id="filters-edit">
      <title>Editing Filters</title>
      <para>
	To edit a filter:
	<orderedlist numeration="arabic">
	  <listitem>
	    <para>
	      Select
	      <menuchoice>
		<guimenu>Tools</guimenu>
		<guimenuitem>Filters</guimenuitem>
	      </menuchoice>
	    </para>
	  </listitem>
	  <listitem>
	    <para>
	      Select the filter in the <guilabel>Filter Rules</guilabel> section
	      and press <guilabel>Edit</guilabel>.
	    </para>
	  </listitem>
	  <listitem>
	    <para>
	      Change the desired settings.
	    </para>
	  </listitem>
	  <listitem>
	    <para>
	      Press <guilabel>OK</guilabel> in the filter editor window.
	    </para>
	  </listitem>
	  <listitem>
	    <para>
	      Press <guilabel>OK</guilabel> in the filter manager window.
	    </para>
	  </listitem>
	</orderedlist>
      </para>
    </sect2>
    
    <sect2 id="filters-deleting">
      <title>Deleting Filters</title>
      <para>
	To delete a filter:
	<orderedlist numeration="arabic">
	  <listitem>
	    <para>
	      Select
	      <menuchoice>
		<guimenu>Tools</guimenu>
		<guimenuitem>Filters</guimenuitem>
	    </menuchoice>
	    </para>
	  </listitem>
	  <listitem>
	    <para>
	      Select the filter and press <guilabel>Remove</guilabel>.
	    </para>
	  </listitem>

	  <listitem>
	    <para>
              Click <guilabel>OK</guilabel> in the filter manager
            window.
	    </para>
	  </listitem>

	</orderedlist>
      </para>
      <para>
	<note>
	  <title>Changing Folder Names and Filters</title>
	  <para>
	    <itemizedlist>
	      <listitem>
		<para>
		  Incoming email that your filters don't move goes
		  into the Inbox; outgoing mail that they don't move
		  ends up in the Sent folder.  So be sure to change
		  the filters that go with it.
		</para>
	      </listitem>
	    </itemizedlist>
	  </para>
	</note>
      </para>
    </sect2>
  </sect1>
    
    <sect1 id="usage-mail-organize-vfolders">
      <title>Getting Really Organized with vFolders</title>
      <para>
	If filters aren't flexible enough for you, or you find
	yourself performing the same search again and again, consider
	a vFolder. vFolders, or virtual folders, are an advanced way
	of viewing your email messages within
	Novell Evolution.  If you get a lot of
	mail or often forget where you put messages, vFolders
	can help you stay on top of things.
      </para>
      <para>
	A vFolder is really a hybrid of all the other organizational
	tools: it looks like a folder, it acts like a search, and you
	set it up like a filter.  In other words, while a conventional
	folder actually contains messages, a vFolder is a view of
	messages that may be in several different folders.  The
	messages it contains are determined on the fly using a set of
	criteria you choose in advance.
      </para>

      <para>
	As messages that meet the vFolder criteria arrive or are
	deleted, Evolution will automatically adjust the vFolder
        contents.  When you delete a message, it gets erased from the
        folder in which it actually exists, as well as any vFolders
        that display it.
      </para>

      <para>
	Imagine a business trying to keep track of mail from hundreds
	of vendors and clients, or a university with overlapping and
	changing groups of faculty, staff, administrators and
	students.  The more mail you need to organize, the less you
	can afford the sort of confusion that stems from an
	organizational system that's not flexible enough.  vFolders
	make for better organization because they can accept
	overlapping groups in a way that regular folders and filing
	systems can't.
      </para>


    <note id="unmatched-vfolder">
      <title>The "Unmatched" vFolder</title>
      <para>
        The Unmatched vFolder is the opposite of the others: it
        displays whatever messages are not matched by other vFolders.
      </para>
      <para>
        If you use remote email storage like IMAP or Microsoft
        Exchange, and have created vFolders to search through them,
        the Unmatched vFolder will follow your lead, and search the
        remote folders as well. If you do not create any vFolders that
        search in remote mail stores, the Unmatched vFolder will not
        search in them either.
      </para>
    </note>


    <example id="usage-mail-organize-vfolders-ex">
      <title>Using Folders, Searches, and vFolders</title>
      <para>
	To organize his mailbox, Jim sets up a virtual folder for emails from
	his friend and co-worker Anna.  He has another one for messages that
	have ximian.com in the address and Novell Evolution in the subject line, so he
	can keep a record of what people from work send him about
	Evolution.  If Anna sends him a message about
	anything other than Novell Evolution, it only shows up in the "Anna" folder.
	When Anna sends him mail about the user interface for
	Evolution, he can see that message both in
	the "Anna" vFolder and in the "Internal Evolution Discussion"
	vFolder.
       </para>
      </example>

	<!--  (INSERT SCREENSHOT HERE: vFolders in action) -->

    <sect2 id="vfolder-create">
      <title>Creating vFolders</title>
      <para>
	To create a vFolder:
	<orderedlist numeration="arabic">
	  <listitem>
	    <para>
	    <menuchoice>
	      <guimenu>Tools</guimenu>
	      <guimenuitem>Virtual Folder Editor</guimenuitem>
	    </menuchoice>
	    </para>
	  </listitem>
	  <listitem>
	    <para>
              Click <guilabel>Add</guilabel>.
	    </para>
	  </listitem>
	  <listitem>
	    <para>
	      Name your vFolder in the <guilabel>Rule name</guilabel> field.

	    </para>
	  </listitem>
	  <listitem>
	    <para>
	      Select your search criteria. For each criterion, you
	      must first select which of the following parts of the
	      message you want the search to examine:

      <figure id="usage-mail-vfolder-fig-createrule">
	<title>Selecting a vFolder Rule</title>
	<screenshot>
	  <screeninfo>Creating a vFolder Rule</screeninfo>
	    <mediaobject>
	      <imageobject>
		<imagedata fileref="figures/vfolder-createrule-fig" format="PNG"
			   srccredit="Aaron Weber"/>
	      </imageobject>
	    </mediaobject>
	  </screenshot>
	</figure>
      </para>
       <para>
	      <itemizedlist>
		<listitem><para>
		    Sender - The sender's address.
		  </para></listitem>
		
		
		<listitem><para>
		    Recipients - The recipients of the message.
		  </para></listitem>
	  
		<listitem><para>
		    Subject - The subject line of the message.
		  </para></listitem>


		<listitem><para>
		    Message Body - Search in the actual text of the message.
		  </para></listitem>
		
		<listitem>
		  <para>
		    Expression - For programmers only: match a message according to an
		    expression you write in the Scheme language, used to
		    define vFolders in Novell Evolution.
		  </para>
		</listitem>
		
		<listitem><para> Date sent - Search messages according to the date on
		    which they were sent: First, choose the conditions you
		    want a message to meet &mdash; <guilabel>before</guilabel>
		    a given time, <guilabel>after</guilabel> it, and so forth.
		    Then, choose the time. The vFolder will compare the
		    message's time-stamp to the system clock when the filter
		    is run, or to a specific time and date you choose from a
		    calendar.  You can even have it look for messages within a
		    range of time relative to the filter &mdash; perhaps you're
		    looking for messages less than two days old.
		  </para></listitem>
		
		<listitem><para>
		    Date Received - This works the same way as the <guilabel>Date Sent</guilabel> 
		    option, except that it compares the time you got the message 
		    with the dates you specify.
		  </para></listitem>
		
		<listitem><para>
		    Label - This works the same way as the <guilabel>Score</guilabel> 
		    option, although it allows you to select from various labels applied to the message,
                such as <guilabel>Important, Personal, To Do,
                Work</guilabel> or <guilabel>Later</guilabel>.
		  </para></listitem>
		
		<listitem><para>
		    Score - a numeric score that you can assign to
                messages using filters
		  </para></listitem>
		
		<listitem>
		  <para>
		    Size (kB) - Sorts based on the size of the message in kilobytes.
		  </para>
		</listitem>
		
		<listitem>
		  <para>
		    Status - Searches according to the status of a message, such as
		    'Draft'.
		  </para>
		</listitem>
		
		<listitem>
		  <para>
                    Follow Up - Checks whether you have flagged the message for follow up.
		  </para>
		</listitem>

		<listitem>
		  <para>
		    Attachments - Create a vFolder based on  whether or not you have an
		    attachment in the email.
		  </para>
		</listitem>
		
		<listitem>
		  <para>
		    Mailing List - Search based on the mailing list it came from.
		  </para>
		</listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
	    <para>
	      Select the folders in which this vFolder will search. Your options are:
	      <itemizedlist>
		<listitem>
		  <para>
		    Specific folders only - Use individual folders for the vFolder to
                        use as its sources.
		  </para>
		</listitem>
		<listitem>
		  <para>
		    With all local folders
		  </para>
		</listitem>
		<listitem>
		  <para>
		    With all active remote folders - Remote folders
                    are considered active if you are connected to the
                    server; you must be connected to your mail server
                    for the vFolder to include any messages from that
                    source.
                  </para>
		</listitem>
		<listitem>
		  <para>
		    With all local and active remote folders
		  </para>
		</listitem>
	      </itemizedlist>
	    </para>
	  </listitem>
	</orderedlist>
      </para>
    </sect2>
  </sect1>
</chapter>
