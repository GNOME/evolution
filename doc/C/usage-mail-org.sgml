<chapter id="usage-mail-organize">
    <title>Organizing and Managing your Email</title>
    <para>
      Even if you only get a few email messages a day, you probably
      want to sort and organize them.  When you get a hundred a day
      and you want to refer to a message you received six weeks ago,
      you <emphasis>need</emphasis> to sort and organize them.
      Fortunately, <application>Evolution</application> has the tools
      to help you do it.
    </para>

    <sect1 id="usage-mail-organize-columns">
      <title>Sorting Mail with Column Headers</title>
      <para>
         By default, the message list has columns with the following
         headings: an envelope icon indicating whether you have read
         or replied to a message, an exclamation point indicating priority, and the
         <guilabel>From</guilabel>, <guilabel>Subject</guilabel>, and
         <guilabel>Date</guilabel> fields. You can change their order
         and remove them by dragging and dropping them.  

      To add columns:
      <orderedlist numeration="arabic">
	<listitem>
	  <para>
	    Right click on the bar
	  </para>
	</listitem>
	<listitem>
	  <para>
	    Click <guimenuitem>Add a Column</guimenuitem>
	  </para>
	</listitem>
	<listitem>
	  <para>
	    Click and drag a column you want into the toolbar.  A red arrow will
	    show you where the column will be placed.
	  </para>
	</listitem>
      </orderedlist>
      </para>
      <para>
	Right-click on one of the column headers to get a list of
	options:
	<variablelist>
	  
	<varlistentry>
	  <term><guimenuitem>Sort Ascending</guimenuitem></term>
	  <listitem><para>
	      Sorts the messages top to bottom.
	    </para></listitem>
	</varlistentry>
	  
	  <varlistentry>
	    <term><guimenuitem>Sort Descending</guimenuitem></term>
	    <listitem><para>
		Sorts the messages bottom to top.
	      </para></listitem>
	  </varlistentry>
	  
	  <varlistentry>
	    <term><guimenuitem>Group By this Field</guimenuitem></term>
	    <listitem><para>
	      Groups messages instead of sorting them. This makes each contact
	      with identical properties in the specified field to be placed in
	      its own group and physically separated from others. 
	    </para></listitem>
	  </varlistentry>
	  
	  <varlistentry>
	    <term><guimenuitem>Remove this
		Column</guimenuitem></term> <listitem><para> Remove
		this column from the display. You can also remove
		columns by dragging the header off the list and
		letting it drop.  </para></listitem>
	  </varlistentry>
	  
	  <varlistentry>
	    <term><guimenuitem>Field
		Chooser</guimenuitem></term> <listitem><para> 
	      When you choose this item, a list
	      of column headers will appear; just drag and drop them into
	      place between two existing headers. A red arrow will
	      appear to show you where you're about to put the
	      column.  </para></listitem>
	</varlistentry>
	</variablelist>
      </para>
    </sect1>

    <sect1 id="usage-mail-organize-folders">
      <title>Getting Organized with Folders</title>
      <para>
	<application>Evolution</application> keeps mail, as well as
	address cards and calendars, in folders.  You start out with a
	few, like <guilabel>Inbox</guilabel>,
	<guilabel>Outbox</guilabel>, and <guilabel>Drafts</guilabel>,
	but you can create as many as you like.  Create new folders by
	selecting <guisubmenu>New</guisubmenu> and then
	<guimenuitem>Folder</guimenuitem> from the
	<guimenu>File</guimenu> menu.
	<application>Evolution</application> will as you for the name
	and the type of the folder, and will provide you with a folder
	tree so you can pick where it goes.
      </para>
      <para>
        When you click <guibutton>OK</guibutton>, your new folder will
	appear in the <interface>folder view</interface>.  You can
	then put messages in it by dragging and dropping them, or by
	using the <guibutton>Move</guibutton> button in the
	toolbar. If you want to move several messages at once, click
	on the ones you want to move while holding down the
	<keycap>CTRL</keycap> key, or use <keycap>Shift</keycap> to
	select a range of messages.  If you create a filter with the
	<interface>filter assistant</interface>, you can have mail
	moved to your folder automatically.
      </para>
  </sect1>    

  <sect1 id="usage-mail-organize-search">
      <title>Searching for Messages</title>
      <para>
	Most mail clients can search through your messages for you,
	but <application>Evolution</application> does it faster. You
	can search through just the message subjects, just the message
	body, or both body and subject.
      </para>
      <para>
	To start searching, enter a word or phrase in the text area
	right below the toolbar, and choose a search type:
	<variablelist>
	  <varlistentry>
	    <term><guilabel>Body or subject contains</guilabel></term>
	  <listitem>
	      <para>
	        This will search message subjects and the messages
	        themselves for the word or phrase you've entered in
	        the search field.
   	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term> <guilabel>Body contains</guilabel> </term>
	    <listitem>
	      <para>
	        This will search only in message text, not the subject
	        lines.
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><guilabel>Subject contains</guilabel></term>
	    <listitem>
	      <para>
	        This will show you messages where the search text is
	        in the subject line.  It will not search in the
	        message body.
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><guilabel>Body does not contain</guilabel></term>
	    <listitem>
	      <para>
	        This finds every email message that does not have the
	        search text in the message body.  It will still show
	        messages that have the search text in the subject
	        line, if it is not also in the body.
	      </para>
	    </listitem>
	  </varlistentry>
	  <varlistentry>
	    <term><guilabel>Subject does not contain</guilabel></term>
	    <listitem>
	      <para>
	        This finds every mail whose subject does not contain
	        the search text.
	      </para>
	    </listitem>
	  </varlistentry>
	</variablelist>

        When you've entered your search phrase, press
        <keycap>Enter</keycap>.  <application>Evolution</application>
        will show your search results in the message list.
      </para>

      <para>
         If you think you'll want to return to a search again, you can
         save it as a virtual folder by selecting <guilabel>Store
         Search as Virtual Folder</guilabel>.
      </para>

      <para>
         When you're done with the search, go back to seeing all your
         messages by choosing <guimenuitem>Show All</guimenuitem> from
         the <guilabel>Search</guilabel> drop-down box. If you're
         sneaky, just enter a blank search: since every message has at
         least one space in it, you'll see every message in the
         folder.
      </para>

      <para>
        If you'd like to perform a more complex search, open the
        advanced search dialog by selecting
        <guilabel>Advanced...</guilabel> from the
        <guilabel>Search</guilabel> drop-down menu.  Then, create your
        search criteria (each with the same options you saw in the
        regular search bar), and decide whether you want to find
        messages that match all of them, or messages that match even
        one. Then, click <guibutton>Search</guibutton> to go and find
        those messages.
     </para>

     <para>
        You'll see a similar approach to sorting messages when you
        create filters and virtual folders in the next few sections.
     </para>

    </sect1>

    <sect1 id="usage-mail-organize-filters">
      <title>Create Rules to Automatically Organize Mail</title>
      <para>
	Filters work very much like the mail room in a large company.
	Their purpose is to bundle, sort, and distribute mail to the
	various folders.  
        In addition, you can have multiple filters performing multiple
        actions that may effect the same message in several ways.  For
        example, your filters could put copies of one message into
        multiple folders, or keep a copy and send one to another
        person as well, and it can do that quickly. Which is
        to say, it's faster and more flexible than an actual person
        with a pile of envelopes.
      </para>

    <sect2 id="usage-mail-org-filters-new">
      <title>Making New Filters</title>
      <para>
	To create a new filter:
	<orderedlist numeration="arabic">
	  <listitem>
	    <para>
	      Click 
	      <menuchoice>
		<guimenu>Tools</guimenu>
		<guimenuitem>Filters</guimenuitem>
	      </menuchoice>
	    </para>
	  </listitem>
	  <listitem>
	    <para>
	      Press the <guibutton>Add</guibutton> button.
	    </para>
	  </listitem>
	  <listitem>
	    <para>
	      Name your filter in the <guilabel>Rule name</guilabel> field.
	      For each filter criterion, you must first select 
	      which of the following parts of the message you want the filter to 
	      examine:
	      
	      <itemizedlist>
		<listitem><para>
		    Sender - The sender's address.
		  </para></listitem>
		
		
		<listitem><para>
		    Recipients - The recipients of the message.
		  </para></listitem>
	  
		<listitem><para>
		    Subject - The subject line of the message.
		  </para></listitem>
		
		<listitem><para>
		    Specific Header - The filter can look at any header you
		    want, even obscure or custom ones. Enter the header name
		    in the first text box, and put your search text in the
		    second one.
		  </para></listitem>
		
		<listitem><para>
		    Message Body - Search in the actual text of the message.
		  </para></listitem>
		
		<listitem>
		  <para>
		    Expression - For programmers only: match a message according to an
		    expression you write in the Scheme language, used to
		    define filters in <application>Evolution</application>.
		  </para>
		</listitem>
		
		<listitem><para> Date sent - Filter messages according to the date on
		    which they were sent: First, choose the conditions you
		    want a message to meet &mdash; <guilabel>before</guilabel>
		    a given time, <guilabel>after</guilabel> it, and so forth.
		    Then, choose the time. The filter will compare the
		    message's time-stamp to the system clock when the filter
		    is run, or to a specific time and date you choose from a
		    calendar.  You can even have it look for messages within a
		    range of time relative to the filter &mdash perhaps you're
		    looking for messages less than two days old.
		  </para></listitem>
		
		<listitem><para>
		    Date Recieved - This works the same way as the <guilabel>Date Sent</guilabel> 
		    option, except that it compares the time you got the message 
		    with the dates you specify.
		  </para></listitem>
		
		<listitem><para>
		    Score - Emails have a standard priority range from -3 (least
		    important) to 3 (most important). You can have filters set the
		    priority of messages you recieve, and then have other filters 
		    applied only to those messages which have a certain priority.
		  </para></listitem>
		
		<listitem>
		  <para>
		    Size (kb) - Sorts based on the size of the message in kilobytes.
		  </para>
		</listitem>

		<listitem>
		  <para>
		    Status - Filters according to the status of a message, such as
		    'New'.
		  </para>
		</listitem>
		
		<listitem>
		  <para>
		    Attachments - Create a filter based on whether or not you 
		    have an attachment in the email.
		  </para>
		</listitem>
		
		<listitem>
		  <para>
		    Mailing List - Filter based on the mailing list it came from.
		  </para>
		</listitem>
		
		<listitem>
		  <para>
		    Regex Match - If you know your way around a <glossterm
									   linkend="regular-expression">regex</glossterm>, or
		    regular expression, put your knowledge to use here.
		  </para>
		</listitem>
		
		<listitem>
		  <para>
		    Source Account - Filter messages according the server you got them from.
		    You can enter a URL or choose one from the drop-down
		    list.  This ability is only relevant if you use more
		    than one mail source.
		  </para>
		</listitem>
	      </itemizedlist>
	    </para>
	  </listitem>
	  <listitem>
	    <para>
	      Select the criterion for the condition.   If you want multiple
	      criterion for this filter, press <guibutton>Add
		criterion</guibutton> and repeat the previous step.
	    </para>
	  </listitem>
	  <listitem>
	    <para>
	      Select the actions for the filter in the <guilabel>Then</guilabel>
	      section.  You can select any of the following options.
	      <itemizedlist>
		<listitem><para>
		    Move to Folder - If you select this item, <application>Evolution</application>
		    will put the messages into a folder you specify.  Click the 
		    <guibutton>&lt;click here to select a folder&gt;</guibutton> button
		    to select a folder. 
		  </para></listitem>

		<listitem><para>
		    Copy to Folder - If you select this item, <application>Evolution</application>
		    will put the messages into a folder you specify.  Click the 
		    <guibutton>&lt;click here to select a folder&gt;</guibutton> button
		    to select a folder. 
		  </para></listitem>
		
		<listitem><para>
		    Forward to Address - Select this, enter an address, and the addressee will
		    get a copy of the message.
		  </para></listitem>

		<listitem><para>
		    Delete - Marks the message for deletion.  You can still get the message
		    back, at least until you <guimenuitem>Expunge</guimenuitem> your
		    mail yourself.
		  </para></listitem>
		
		<listitem><para>
		    Stop Processing - Select this if you want to tell all other filters to ignore 
		    this message, because whatever you've done with it so far
		    is plenty.
		  </para></listitem>
		
		<listitem><para>
		    Assign Color - Select this item, and <application>Evolution</application>
		    will mark the message with whatever color you please.
		  </para></listitem>
		
		<listitem><para> 
		    Assign Score - If you know that all mail with
		    "important" somewhere in the message body line is
		    important, you can give it a high priority score. In a subsequent filter you can 
		    then arrange your messages by their priority score.
		  </para></listitem>
	      </itemizedlist>
	    </para>
	  </listitem>
	  <listitem>
	    <para>
	      Set Status - If you want to add multiple actions for this filter, press
	      <guibutton>Add filter</guibutton> and repeat the previous step.
	    </para>
	  </listitem>
	  <listitem>
	    <para>
	      Press <guibutton>OK</guibutton>.
	    </para>
	  </listitem>
	</orderedlist>
      </para>
    </sect2>
    
    <sect2 id="filters-edit">
      <title>Editing Filters</title>
      <para>
	To edit a filter:
	<orderedlist numeration="arabic">
	  <listitem>
	    <para>
	      Select
	      <menuchoice>
		<guimenu>Tools</guimenu>
		<guimenu>Filters</guimenu>
	      </menuchoice>
	    </para>
	  </listitem>
	  <listitem>
	    <para>
	      Select the filter in the <guilabel>Filter Rules</guilabel> section
	      and press <guibutton>Edit</guibutton>.
	    </para>
	  </listitem>
	  <listitem>
	    <para>
	      Change the desired settings.
	    </para>
	  </listitem>
	  <listitem>
	    <para>
	      Press <guibutton>OK</guibutton> in the filter editor window.
	    </para>
	  </listitem>
	  <listitem>
	    <para>
	      Press <guibutton>OK</guibutton> in the filter manager window.
	    </para>
	  </listitem>
	</orderedlist>
      </para>
    </sect2>
    
    <sect2 id="filters-deleting">
      <title>Deleting Filters</title>
      <para>
	To delete a filter:
	<orderedlist numeration="arabic">
	  <listitem>
	    <para>
	      Select
	      <menuchoice>
		<guimenu>Tools</guimenu>
		<guimenu>Filters</guimenu>
	    </menuchoice>
	    </para>
	  </listitem>
	  <listitem>
	    <para>
	      Select the filter and press <guibutton>Delete</guibutton>.
	    </para>
	  </listitem>
	</orderedlist>
      </para>
      <para>
	<note>
	  <title>Changing Folder Names and Filters</title>
	  <para>
	    <itemizedlist>
	      <listitem>
		<para>
		  Incoming email that your filters don't move goes into the Inbox; 
		  outgoing mail that they don't move ends up in the Sent
		  folder.  So be sure to change the filters that go with it.
		</para>
	      </listitem>
	    </itemizedlist>
	  </para>
	</note>
      </para>
    </sect2>
  </sect1>
    
    <sect1 id="usage-mail-organize-vFolders">
      <title>Getting Really Organized with Virtual Folders</title>
      <para>
	If filters aren't flexible enough for you, or you find
	yourself performing the same search again and again, consider
	a virtual folder. Virtual folders, or vFolders, are an
	advanced way of viewing your email messages within
	<application>Evolution</application>.  If you get a lot of
	mail or often forget where you put messages, virtual folders can help
	you stay on top of things.
      </para>
      <para>
	A virtual folder is really a hybrid of all the other organizational
	tools: it looks like a folder, it acts like a search, and you
	set it up like a filter.  In other words, while a conventional
	folder actually contains messages, a virtual folder is a view of
	messages that may be in several different folders.  The
	messages it contains are determined on the fly using a set of
	criteria you choose in advance.
      </para>

      <para>
	As messages that meet the virtual folder criteria arrive or are
	deleted, <application>Evolution</application> will
	automatically place them in and remove them from the
	virtual folder contents list.  When you delete a message, it gets
	erased from the folder in which it actually exists, as well as
	any virtual folders which display it.
      </para>

      <para>
	Imagine a business trying to keep track of mail from hundreds
	of vendors and clients, or a university with overlapping and
	changing groups of faculty, staff, administrators and
	students.  The more mail you need to organize, the less you
	can afford the sort of confusion that stems from an
	organizational system that's not flexible enough.  Virtual folders
	make for better organization because they can accept
	overlapping groups in a way that regular folders and filing
	systems can't.
      </para>

    <example id="usage-mail-organize-vFolders-ex">
      <title>Using Folders, Searches, and Virtual Folders</title>
      <para>
	To organize his mailbox, Jim sets up a virtual volder for emails from
	his friend and co-worker Anna.  He has another one for messages that
	have ximian.com in the address and <application>Evolution</application> in the subject line, so he
	can keep a record of what people from work send him about
	<application>evolution</application>.  If Anna sends him a message about
	anything other than <application>Evolution</application>, it only shows up in the "Anna" folder.
	When Anna sends him mail about the user interface for
	<application>evolution</application>, he can see that message both in
	the "Anna" virtual folder and in the "Internal Evolution Discussion"
	virtual folder.
       </para>
      </example>

	<!--  (INSERT SCREENSHOT HERE: virtual folders in action) -->

    <sect2 id="vfolder-create">
      <title>Creating Virtual Folders</title>
      <para>
	To create a virtual folder:
	<orderedlist numeration="arabic">
	  <listitem>
	    <para>
	    <menuchoice>
	      <guimenu>Tools</guimenu>
	      <guimenuitem>Virtual Folder Editor</guimenuitem>
	    </menuchoice>
	    </para>
	  </listitem>
	  <listitem>
	    <para>
	      Click <guibutton>Add</guibutton>
	    </para>
	  </listitem>
	  <listitem>
	    <para>
	      Name your virtual folder in the <guilabel>Rule name</guilabel> field.
	      For each criterion, you must first select 
	      which of the following parts of the message you want the search to 
	      examine:
	      <itemizedlist>
		<listitem><para>
		    Sender - The sender's address.
		  </para></listitem>
		
		
		<listitem><para>
		    Recipients - The recipients of the message.
		  </para></listitem>
	  
		<listitem><para>
		    Subject - The subject line of the message.
		  </para></listitem>
		
		<listitem><para>
		    Specific Header - The virtual folder can look at any header you
		    want, even obscure or custom ones. Enter the header name
		    in the first text box, and put your search text in the
		    second one.
		  </para></listitem>
		
		<listitem><para>
		    Message Body - Search in the actual text of the message.
		  </para></listitem>
		
		<listitem>
		  <para>
		    Expression - For programmers only: match a message according to an
		    expression you write in the Scheme language, used to
		    define virtual folders in <application>Evolution</application>.
		  </para>
		</listitem>
		
		<listitem><para> Date sent - Search messages according to the date on
		    which they were sent: First, choose the conditions you
		    want a message to meet &mdash; <guilabel>before</guilabel>
		    a given time, <guilabel>after</guilabel> it, and so forth.
		    Then, choose the time. The virtual folder will compare the
		    message's time-stamp to the system clock when the filter
		    is run, or to a specific time and date you choose from a
		    calendar.  You can even have it look for messages within a
		    range of time relative to the filter &mdash perhaps you're
		    looking for messages less than two days old.
		  </para></listitem>
		
		<listitem><para>
		    Date Recieved - This works the same way as the <guilabel>Date Sent</guilabel> 
		    option, except that it compares the time you got the message 
		    with the dates you specify.
		  </para></listitem>
		
		<listitem><para>
		    Score - Emails have a standard priority range from -3 (least
		    important) to 3 (most important). You can have virtual folders set the
		    priority of messages you recieve, and then have other
		    virtual folders 
		    applied only to those messages which have a certain priority.
		  </para></listitem>
		
		<listitem>
		  <para>
		    Size (kb) - Sorts based on the size of the message in kilobytes.
		  </para>
		</listitem>
		
		<listitem>
		  <para>
		    Status - Searches according to the status of a message, such as
		    'New'.
		  </para>
		</listitem>
		
		<listitem>
		  <para>
		    Attachments - Create a virtual folder based on  whether or not you have an
		    attachment in the email.
		  </para>
		</listitem>
		
		<listitem>
		  <para>
		    Mailing List - Search based on the mailing list it came from.
		  </para>
		</listitem>
		
		<listitem>
		  <para>
		    Regex Match - If you know your way around a <glossterm
									   linkend="regular-expression">regex</glossterm>, or
		    regular expression, put your knowledge to use here.
		  </para>
		</listitem>
		
		<listitem>
		  <para>
		    Source Account - Search messages according the server you got them from.
		    You can enter a URL or choose one from the drop-down
		    list.  This ability is only relevant if you use more
		    than one mail source.
		  </para>
		</listitem>
	      </itemizedlist>

	    </para>
	  </listitem>
	  <listitem>
	    <para>
	      Select criteria to search by.
	    </para>
	  </listitem>
	  <listitem>
	    <para>
	      Select the folder sources.  You can select:
	      <itemizedlist>
		<listitem>
		  <para>
		    Specific folders only
		    <note>
		      <para>
			If you select specific folders only, you need to specify the
			source folders in the box below.
		      </para>
		    </note>
		  </para>
		</listitem>
		<listitem>
		  <para>
		    All local folders
		  </para>
		</listitem>
		<listitem>
		  <para>
		    With all active remote folders
		  </para>
		</listitem>
		<listitem>
		  <para>
		    With all local and active folders
		  </para>
		</listitem>
	      </itemizedlist>
	 
	    </para>
	  </listitem>
	  <listitem>
	<para>
	      If you want multiple criteria for this filter, press <guibutton>Add
		criterion</guibutton> and repeat the previous step.
	    </para>
	  </listitem>
    </orderedlist>

      <figure id="usage-mail-vfolder-fig-createrule">
	<title>Selecting a Virtual Folder Rule</title>
	<screenshot>
	  <screeninfo>Creating a Virtual Folder Rule</screeninfo>
	  <graphic fileref="fig/vfolder-createrule-fig" format="png" srccredit="Aaron Weber">
	  </graphic>
	</screenshot>
      </figure>
      </para>
    </sect2>
    <sect2 id="usage-mail-vfolder-unmatched">
      <title>The Unmatched Virtual Folder</title>
      <para>
	Obveously, not all messages will fit into all your Virtual Folders.  That is
	what the UNMATCHED Virtual Folder is for.  The UNMATCHED Virtual Folder is a folder
	for any mail that doesn't get matched by other rules.
      </para>
    </sect2>
  </sect1>
  <!--
    <sect1 id="usage-mail-subscriptions">
      <title>Subscription Management</title>
      <para>
         <application>Evolution</application> lets you handle your
         IMAP and newsgroup subscriptions with the same tool: the
         subscriptions manager.  To start using it, choose
         <menuchoice> <guimenu>Settings</guimenu> <guimenuitem>Manage
         Subscriptions</guimenuitem> </menuchoice>.
      </para>
      <para>
         If you have configured any IMAP (mail) or NNTP (news)
         servers, you will see them listed in the left half of the
         subscription management window.  Click on a server to select
         it, and you will see the folders or newsgroups available to
         you.  You can then select individual folders and subscribe to
         them, or remove yourself from the subscription list.
      </para>
      <para>
        Once you have subscribed to a folder or newsgroup, your system
        will check for new messages whenever you press the
        <guibutton>Get Mail</guibutton> button.
    </para>
  </sect1>
-->
</chapter>
